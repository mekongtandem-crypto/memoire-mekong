<!DOCTYPE html>

<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêò M√©moire du M√©kong</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

```
<script type="text/babel">
    // Ic√¥nes Lucide simplifi√©es
    const ChevronLeft = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
        </svg>
    );

    const ChevronRight = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
        </svg>
    );

    const Home = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
    );

    const Play = ({ className }) => (
        <svg className={`w-5 h-5 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h6m2-7V7a2 2 0 00-2-2H9a2 2 0 00-2 2v1M9 17h6" />
        </svg>
    );

    const Users = ({ className }) => (
        <svg className={`w-6 h-6 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m3 5.197H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
    );

    const User = ({ className }) => (
        <svg className={`w-6 h-6 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
    );

    const Camera = ({ className }) => (
        <svg className={`w-6 h-6 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
    );

    const Clock = ({ className }) => (
        <svg className={`w-6 h-6 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
    );

    const Mic = ({ className }) => (
        <svg className={`w-6 h-6 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
        </svg>
    );

    const Zap = ({ className }) => (
        <svg className={`w-6 h-6 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
    );

    const MapPin = ({ className }) => (
        <svg className={`w-6 h-6 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
    );

    const BookOpen = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
        </svg>
    );

    const Edit = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
    );

    const Trash2 = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
    );

    const Lock = ({ className }) => (
        <svg className={`w-5 h-5 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
        </svg>
    );

    const Pause = ({ className }) => (
        <svg className={`w-5 h-5 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
    );

    const Shuffle = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 5H6a2 2 0 00-2 2v6a2 2 0 002 2h2m2 0h8m0 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2h8a2 2 0 002-2z" />
        </svg>
    );

    const ArrowUpRight = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
        </svg>
    );

    const Cloud = ({ className }) => (
        <svg className={`w-8 h-8 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10" />
        </svg>
    );

    const RefreshCw = ({ className }) => (
        <svg className={`w-4 h-4 ${className}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
        </svg>
    );

    // Application principale
    const MemoireMekong = () => {
        const [currentPage, setCurrentPage] = React.useState(1);
        const [selectedMode, setSelectedMode] = React.useState('');
        const [selectedUser, setSelectedUser] = React.useState('');
        const [sessions, setSessions] = React.useState([]);
        const [currentSession, setCurrentSession] = React.useState(null);
        const [showUserSelection, setShowUserSelection] = React.useState(false);
        const [showFullPage, setShowFullPage] = React.useState(false);
        const [isEditingSessionName, setIsEditingSessionName] = React.useState(false);
        const [currentMastodonPost, setCurrentMastodonPost] = React.useState(null);
        const [notifications, setNotifications] = React.useState([]);

        const presentielGames = [
            { 
                id: 1, 
                title: "Photo roulette", 
                duration: "15 min", 
                icon: Camera, 
                description: "S√©lectionnez une photo au hasard et racontez tout ce qui vous revient" 
            },
            { 
                id: 2, 
                title: "Timeline aveugle", 
                duration: "20 min", 
                icon: Clock, 
                description: "Reconstituez la chronologie d'une √©tape sans regarder les dates" 
            },
            { 
                id: 3, 
                title: "Interview journaliste", 
                duration: "25 min", 
                icon: Mic, 
                description: "L'un interviewe l'autre sur une √©tape pr√©cise du voyage" 
            }
        ];

        const distancielGames = [
            { 
                id: 4, 
                title: "Photo sans l√©gende", 
                duration: "async", 
                icon: Camera, 
                description: "Envoyez une photo, l'autre devine le contexte et ses souvenirs" 
            },
            { 
                id: 5, 
                title: "Mot d√©clencheur", 
                duration: "async", 
                icon: Zap, 
                description: "Un mot-cl√© pour d√©clencher un souvenir chez l'autre" 
            },
            { 
                id: 6, 
                title: "G√©olocalisation myst√®re", 
                duration: "async", 
                icon: MapPin, 
                description: "Partagez une position GPS, l'autre raconte ce lieu" 
            }
        ];

        const mastodonPosts = [
            {
                id: 1,
                text: "J131: D'arbres en cascades\nMais qu'y a t-il donc sur cette √Æle, √† part ces plages parfaites et cette jungle sans chemins ? Lambert part pour une travers√©e de l'ile √† v√©lo. Avec une succession de pentes jusqu'a 28% en pein cagnard, il est vite calm√©...\nOn loue 2 scoot, et on part √† la recherche de fameuses cascades. Un peu plus loin, on rend visite √† des arbres multi centenaires, donc sacr√©s.",
                images: []
            },
            {
                id: 2,
                text: "J102 : G√©rer les chiens\nA 5h du mat, il manque un √©l√©ment essentiel de nos bagages : une tongue ! Les talents de pisteurs de Tom nous m√®nerons chez le chien du voisin.\nTracer la route au lever du soleil est un plaisir particulier. Jusqu'√† 11h, la chaleur est supportable mais les chiens qui nous courent apr√®s le long des pistes pas toujours faciles a g√©rer : chute de Tom quelques km avant l'arriv√©e. S√©ance infirmerie qui justifie le transport de notre trousse qui a peu servi jusque l√†.",
                images: []
            }
        ];

        React.useEffect(() => {
            const savedSessions = localStorage.getItem('mekong-sessions');
            if (savedSessions) {
                try {
                    const parsedSessions = JSON.parse(savedSessions);
                    setSessions(Array.isArray(parsedSessions) ? parsedSessions : []);
                } catch (error) {
                    setSessions([]);
                }
            }
            
            if (selectedUser === 'Lambert') {
                setTimeout(() => {
                    setNotifications(['Tom vous a envoy√© un ping sur la session']);
                }, 100);
            } else if (selectedUser === 'Tom') {
                setTimeout(() => {
                    setNotifications(['Lambert vous a envoy√© un ping sur la session']);
                }, 100);
            }
        }, [selectedUser]);

        const saveSessions = (newSessions) => {
            setSessions(newSessions);
            localStorage.setItem('mekong-sessions', JSON.stringify(newSessions));
        };

        const handleModeSelection = (mode) => {
            setSelectedMode(mode);
            if (mode === 'duo') {
                setSelectedUser('Duo');
                setShowFullPage(true);
            } else {
                setShowUserSelection(true);
            }
        };

        const handleUserSelection = (user) => {
            setSelectedUser(user);
            setShowFullPage(true);
        };

        const resetOnboarding = () => {
            setSelectedMode('');
            setSelectedUser('');
            setShowUserSelection(false);
            setShowFullPage(false);
            setCurrentPage(1);
            setCurrentSession(null);
            setIsEditingSessionName(false);
            setCurrentMastodonPost(null);
            setNotifications([]);
        };

        const selectGame = (game) => {
            const newSession = {
                id: Date.now(),
                mode: selectedMode,
                user: selectedUser,
                game: game,
                date: new Date().toISOString(),
                status: 'active',
                notes: []
            };
            
            setCurrentSession(newSession);
            setCurrentPage(3);
        };

        const closeSession = () => {
            if (!currentSession) return;
            
            const savedSession = { ...currentSession, status: 'closed' };
            const updatedSessions = [savedSession, ...sessions.filter(s => s.id !== currentSession.id)];
            saveSessions(updatedSessions);
            setCurrentSession(null);
            setCurrentPage(1);
        };

        const pauseSession = () => {
            if (!currentSession) return;
            
            const pausedSession = { ...currentSession, status: 'paused' };
            const updatedSessions = [pausedSession, ...sessions.filter(s => s.id !== currentSession.id)];
            saveSessions(updatedSessions);
            setCurrentSession(null);
            setCurrentPage(1);
        };

        const inviteOtherUser = () => {
            if (!currentSession) return;
            const otherUser = selectedUser === 'Tom' ? 'Lambert' : 'Tom';
            alert('üî® Invitation envoy√©e √† ' + otherUser + ' !');
        };

        const addNote = () => {
            if (!currentSession) return;
            const newNote = {
                id: Date.now(),
                content: '',
                timestamp: new Date().toISOString(),
                isEditing: true
            };
            setCurrentSession({
                ...currentSession,
                notes: [...(currentSession.notes || []), newNote]
            });
        };

        const updateNote = (noteId, content) => {
            if (!currentSession) return;
            setCurrentSession({
                ...currentSession,
                notes: (currentSession.notes || []).map(note => 
                    note.id === noteId ? { ...note, content, isEditing: false } : note
                )
            });
        };

        const editNote = (noteId) => {
            if (!currentSession) return;
            setCurrentSession({
                ...currentSession,
                notes: (currentSession.notes || []).map(note => 
                    note.id === noteId ? { ...note, isEditing: true } : note
                )
            });
        };

        const deleteNote = (noteId) => {
            if (!currentSession) return;
            setCurrentSession({
                ...currentSession,
                notes: (currentSession.notes || []).filter(n => n.id !== noteId)
            });
        };

        const updateSessionName = (newName) => {
            if (!currentSession) return;
            setCurrentSession({
                ...currentSession,
                customName: newName
            });
            setIsEditingSessionName(false);
        };

        const getSessionDisplayName = (session) => {
            return session.customName || session.game?.title || 'Session sans nom';
        };

        const openSession = (session) => {
            setShowFullPage(true);
            setSelectedMode(session.mode);
            setSelectedUser(session.user);
            setCurrentSession(session);
            setCurrentPage(3);
        };

        const exportToGoogleDocs = () => {
            alert('üöß Export vers Google Docs - √Ä venir dans la prochaine version !');
        };

        const openMemoryPage = () => {
            setCurrentPage(4);
            const randomPost = mastodonPosts[Math.floor(Math.random() * mastodonPosts.length)];
            setCurrentMastodonPost(randomPost);
        };

        const getRandomPost = () => {
            const availablePosts = mastodonPosts.filter(post => 
                !currentMastodonPost || post.id !== currentMastodonPost.id
            );
            const postsToChooseFrom = availablePosts.length > 0 ? availablePosts : mastodonPosts;
            const randomPost = postsToChooseFrom[Math.floor(Math.random() * postsToChooseFrom.length)];
            setCurrentMastodonPost(randomPost);
        };

        const getPageTitle = () => {
            switch(currentPage) {
                case 1: return "Accueil & Sessions";
                case 2: return "Choix du jeu";
                case 3: return currentSession?.game?.title || '';
                case 4: return "M√©moire Mastodon";
                default: return "Navigation";
            }
        };

        const getStatusIcon = (status) => {
            switch(status) {
                case 'active': return React.createElement(Play, { className: "w-5 h-5 text-green-600" });
                case 'paused': return React.createElement(Pause, { className: "w-5 h-5 text-orange-600" });
                case 'closed': return React.createElement(Lock, { className: "w-5 h-5 text-gray-600" });
                default: return React.createElement(Play, { className: "w-5 h-5 text-green-600" });
            }
        };

        return (
            <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-4">
                <div className="max-w-4xl mx-auto">
                    
                    <div className="text-center mb-6">
                        <div className="flex justify-center items-center space-x-4 mb-2">
                            <h1 className="text-4xl font-bold text-amber-900">üêò M√©moire du M√©kong</h1>
                            <button
                                onClick={openMemoryPage}
                                className="text-blue-600 hover:text-blue-800 p-2 rounded-full hover:bg-blue-100 transition-colors"
                                title="Acc√©der aux souvenirs Mastodon"
                            >
                                <Cloud className="w-8 h-8" />
                            </button>
                        </div>
                        
                        <div className="mb-2 flex space-x-2 justify-center">
                            <button
                                onClick={() => {
                                    localStorage.removeItem('mekong-sessions');
                                    setSessions([]);
                                    resetOnboarding();
                                    alert('Donn√©es effac√©es !');
                                }}
                                className="px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs font-bold"
                            >
                                üö® RESET
                            </button>
                            <span className="px-3 py-1 bg-green-500 text-white rounded text-xs font-bold">
                                ‚úÖ Version GitHub Pages
                            </span>
                        </div>
                        
                        {showFullPage && (
                            <div className="flex justify-center mb-3 space-x-4">
                                <div className="flex items-center space-x-2 text-amber-700 bg-amber-100 border border-amber-200 px-3 py-1 rounded-full shadow-sm">
                                    <span className="text-sm font-medium">Mode: {selectedMode === 'duo' ? 'Duo' : 'Solo'}</span>
                                </div>
                                <div className="flex items-center space-x-2 text-amber-700 bg-amber-100 border border-amber-200 px-3 py-1 rounded-full shadow-sm">
                                    <span className="text-lg">üêò</span>
                                    <span className="text-sm font-medium">{selectedUser}</span>
                                    <button 
                                        onClick={resetOnboarding}
                                        className="ml-2 text-amber-600 hover:text-amber-800 hover:bg-amber-200 rounded-full w-4 h-4 flex items-center justify-center text-xs"
                                    >
                                        ‚úï
                                    </button>
                                </div>
                            </div>
                        )}
                        
                        <p className="text-lg text-amber-700 font-medium">{getPageTitle()}</p>
                    </div>

                    {(showFullPage || currentPage === 4) && (
                        <div className="flex justify-center items-center space-x-4 mb-6 bg-white/50 backdrop-blur rounded-lg p-3">
                            <button 
                                onClick={() => currentPage > 1 && setCurrentPage(currentPage - 1)}
                                disabled={currentPage <= 1}
                                className={`flex items-center space-x-1 px-3 py-2 rounded-md ${currentPage > 1 ? 'bg-amber-200 hover:bg-amber-300 text-amber-800' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}
                            >
                                <ChevronLeft className="w-4 h-4" />
                                <span>Pr√©c√©dent</span>
                            </button>
                            
                            <button 
                                onClick={() => setCurrentPage(1)}
                                className="flex items-center space-x-1 px-3 py-2 bg-orange-200 hover:bg-orange-300 text-orange-800 rounded-md"
                            >
                                <Home className="w-4 h-4" />
                                <span>Accueil</span>
                            </button>
                            
                            <button 
                                onClick={() => currentPage < 4 && setCurrentPage(currentPage + 1)}
                                disabled={currentPage >= 4}
                                className={`flex items-center space-x-1 px-3 py-2 rounded-md ${currentPage < 4 ? 'bg-amber-200 hover:bg-amber-300 text-amber-800' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}
                            >
                                <span>Suivant</span>
                                <ChevronRight className="w-4 h-4" />
                            </button>
                        </div>
                    )}

                    {currentPage === 1 && showFullPage && notifications.length > 0 && (
                        <div className="mb-4">
                            {notifications.map((notif, idx) => (
                                <div key={idx} className="bg-blue-100 border-l-4 border-blue-500 p-3 rounded">
                                    <p className="text-blue-800">üîî {notif}</p>
                                </div>
                            ))}
                        </div>
                    )}

                    <div className="bg-white/80 backdrop-blur rounded-xl shadow-lg p-6">
                        
                        {currentPage === 1 && !showFullPage && (
                            <div className="space-y-8">
                                
                                {!selectedMode && (
                                    <div className="max-w-md mx-auto space-y-3">
                                        <h3 className="text-lg font-semibold text-amber-900 text-center">Choisissez votre mode de session</h3>
                                        <div className="space-y-3">
                                            <button
                                                onClick={() => handleModeSelection('duo')}
                                                className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                            >
                                                <Users className="w-6 h-6 text-amber-600" />
                                                <div>
                                                    <span className="font-medium text-lg">Duo</span>
                                                    <p className="text-sm text-gray-600">Session intensive √† deux (pr√©sentiel)</p>
                                                </div>
                                            </button>
                                            <button
                                                onClick={() => handleModeSelection('solo')}
                                                className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                            >
                                                <User className="w-6 h-6 text-amber-600" />
                                                <div>
                                                    <span className="font-medium text-lg">Solo</span>
                                                    <p className="text-sm text-gray-600">Lancer un ping-pong (asynchrone)</p>
                                                </div>
                                            </button>
                                        </div>
                                    </div>
                                )}

                                {selectedMode === 'solo' && showUserSelection && !showFullPage && (
                                    <div className="max-w-md mx-auto space-y-3">
                                        <h3 className="text-lg font-semibold text-amber-900 text-center">Qui √™tes-vous ?</h3>
                                        <div className="space-y-3">
                                            <button
                                                onClick={() => handleUserSelection('Tom')}
                                                className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                            >
                                                <span className="text-3xl">üêò</span>
                                                <span className="font-medium text-lg">Tom l'√©l√©phanteau</span>
                                            </button>
                                            <button
                                                onClick={() => handleUserSelection('Lambert')}
                                                className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                            >
                                                <span className="text-3xl">üêò</span>
                                                <span className="font-medium text-lg">Lambert, le Vieil √©l√©phant</span>
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {currentPage === 1 && showFullPage && (
                            <div className="space-y-6">
                                <div className="space-y-3">
                                    <h3 className="text-lg font-semibold text-amber-900">Sessions pr√©c√©dentes</h3>
                                    {sessions.length === 0 ? (
                                        <div className="text-center py-8">
                                            <p className="text-gray-500 mb-4">Aucune session enregistr√©e</p>
                                            <button
                                                onClick={() => setCurrentPage(2)}
                                                className="px-6 py-3 bg-amber-200 hover:bg-amber-300 text-amber-900 rounded-lg font-medium"
                                            >
                                                Cr√©er votre premi√®re session
                                            </button>
                                        </div>
                                    ) : (
                                        <>
                                            <div className="flex justify-between items-center mb-4">
                                                <span className="text-sm text-gray-600">{sessions.length} session(s)</span>
                                                <button
                                                    onClick={() => setCurrentPage(2)}
                                                    className="px-4 py-2 bg-amber-200 hover:bg-amber-300 text-amber-900 rounded-lg font-medium"
                                                >
                                                    Nouvelle session
                                                </button>
                                            </div>
                                            <div className="space-y-2">
                                                {sessions.map((session, index) => (
                                                    <div 
                                                        key={session.id}
                                                        className="flex items-center justify-between p-3 border rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors"
                                                    >
                                                        <div 
                                                            onClick={() => openSession(session)}
                                                            className="flex items-center space-x-3 flex-1 cursor-pointer"
                                                        >
                                                            {getStatusIcon(session.status)}
                                                            <div>
                                                                <span className="font-medium">{getSessionDisplayName(session)}</span>
                                                                <p className="text-sm text-gray-600">
                                                                    {session.mode} ‚Ä¢ {session.user} ‚Ä¢ {new Date(session.date).toLocaleDateString('fr-FR')}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div className="flex items-center space-x-2">
                                                            <button
                                                                onClick={exportToGoogleDocs}
                                                                className="p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded"
                                                                title="Export Google Docs"
                                                            >
                                                                ‚¨áÔ∏è
                                                            </button>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </>
                                    )}
                                </div>
                            </div>
                        )}

                        {currentPage === 2 && (
                            <div className="space-y-6">
                                <div className="flex justify-between items-center">
                                    <h3 className="text-lg font-semibold text-amber-900">
                                        Jeux {selectedMode === 'duo' ? 'pr√©sentiel' : 'distanciel'} disponibles
                                    </h3>
                                    <button
                                        onClick={() => {
                                            const games = selectedMode === 'duo' ? presentielGames : distancielGames;
                                            const randomGame = games[Math.floor(Math.random() * games.length)];
                                            selectGame(randomGame);
                                        }}
                                        className="flex items-center space-x-2 px-4 py-2 bg-purple-200 hover:bg-purple-300 text-purple-800 rounded-lg"
                                    >
                                        <Shuffle className="w-4 h-4" />
                                        <span>Au hasard</span>
                                    </button>
                                </div>
                                
                                <div className="grid gap-4">
                                    {(selectedMode === 'duo' ? presentielGames : distancielGames).map(game => {
                                        const IconComponent = game.icon;
                                        return (
                                            <button 
                                                key={game.id}
                                                onClick={() => selectGame(game)}
                                                className="p-4 border-2 border-gray-200 rounded-lg cursor-pointer transition-all hover:border-amber-300 hover:bg-amber-50 text-left w-full"
                                            >
                                                <div className="flex items-start space-x-3">
                                                    <IconComponent className="w-6 h-6 text-amber-600 mt-1 flex-shrink-0" />
                                                    <div className="flex-1">
                                                        <div className="flex justify-between items-start mb-1">
                                                            <h4 className="font-medium text-amber-900">{game.title}</h4>
                                                            <span className="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded">
                                                                {game.duration}
                                                            </span>
                                                        </div>
                                                        <p className="text-sm text-gray-600">{game.description}</p>
                                                    </div>
                                                </div>
                                            </button>
                                        );
                                    })}
                                </div>
                            </div>
                        )}

                        {currentPage === 3 && currentSession && (
                            <div className="space-y-6">
                                <div className="bg-amber-50 p-4 rounded-lg">
                                    <div className="flex items-start space-x-3">
                                        {React.createElement(currentSession.game.icon || BookOpen, { 
                                            className: "w-8 h-8 text-amber-600 mt-1 flex-shrink-0" 
                                        })}
                                        <div className="flex-1">
                                            <div className="flex items-center space-x-2 mb-2">
                                                {isEditingSessionName ? (
                                                    <div className="flex items-center space-x-2 flex-1">
                                                        <input 
                                                            type="text"
                                                            defaultValue={getSessionDisplayName(currentSession)}
                                                            onKeyDown={(e) => {
                                                                if (e.key === 'Enter') {
                                                                    updateSessionName(e.target.value);
                                                                } else if (e.key === 'Escape') {
                                                                    setIsEditingSessionName(false);
                                                                }
                                                            }}
                                                            className="flex-1 px-2 py-1 border rounded text-lg font-semibold text-amber-900 focus:outline-none focus:ring-2 focus:ring-amber-400"
                                                            autoFocus
                                                        />
                                                        <button 
                                                            onClick={() => {
                                                                const input = document.querySelector('input[type="text"]');
                                                                if (input) updateSessionName(input.value);
                                                            }}
                                                            className="px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 text-sm"
                                                        >
                                                            ‚úì
                                                        </button>
                                                        <button 
                                                            onClick={() => setIsEditingSessionName(false)}
                                                            className="px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-sm"
                                                        >
                                                            ‚úï
                                                        </button>
                                                    </div>
                                                ) : (
                                                    <div className="flex items-center space-x-2 flex-1">
                                                        <h3 className="text-lg font-semibold text-amber-900 flex-1">
                                                            {getSessionDisplayName(currentSession)}
                                                        </h3>
                                                        <button 
                                                            onClick={() => setIsEditingSessionName(true)}
                                                            className="text-amber-600 hover:text-amber-800 p-1 rounded hover:bg-amber-200"
                                                        >
                                                            <Edit className="w-4 h-4" />
                                                        </button>
                                                    </div>
                                                )}
                                            </div>
                                            <p className="text-amber-700 mb-2">
                                                {currentSession.game?.description || 'Aucune description disponible'}
                                            </p>
                                            <div className="flex items-center space-x-4 text-sm text-amber-600">
                                                <span>Mode: {currentSession.mode}</span>
                                                <span>Dur√©e: {currentSession.game?.duration}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div className="space-y-3">
                                    <h4 className="font-medium text-amber-900">Notes et souvenirs</h4>
                                    
                                    <div className="space-y-3">
                                        {currentSession.notes && currentSession.notes.length > 0 ? (
                                            currentSession.notes.map((note, index) => (
                                                <div key={note.id} className={`border rounded-lg p-3 ${note.isEditing ? 'bg-yellow-50 border-yellow-200' : 'bg-gray-50 cursor-pointer hover:bg-gray-100'} transition-colors`}>
                                                    {note.isEditing ? (
                                                        <div className="space-y-2">
                                                            <textarea 
                                                                value={note.content || ''}
                                                                onChange={(e) => {
                                                                    setCurrentSession({
                                                                        ...currentSession,
                                                                        notes: currentSession.notes.map(n => 
                                                                            n.id === note.id ? { ...n, content: e.target.value } : n
                                                                        )
                                                                    });
                                                                }}
                                                                className="w-full h-32 p-3 border rounded resize-none focus:outline-none focus:ring-2 focus:ring-amber-400"
                                                                placeholder="Notez ici vos souvenirs, r√©flexions, d√©tails..."
                                                                autoFocus
                                                            />
                                                            <div className="flex space-x-2">
                                                                <button 
                                                                    onClick={() => updateNote(note.id, note.content || '')}
                                                                    className="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600"
                                                                >
                                                                    Sauvegarder
                                                                </button>
                                                                <button 
                                                                    onClick={() => deleteNote(note.id)}
                                                                    className="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600"
                                                                >
                                                                    Supprimer
                                                                </button>
                                                            </div>
                                                        </div>
                                                    ) : (
                                                        <div 
                                                            onClick={() => editNote(note.id)}
                                                            className="cursor-pointer"
                                                        >
                                                            <div className="flex justify-between items-start mb-2">
                                                                <span className="text-xs text-gray-500">
                                                                    Note #{index + 1} ‚Ä¢ {selectedUser || 'Utilisateur'} ‚Ä¢ {note.timestamp ? new Date(note.timestamp).toLocaleString('fr-FR') : 'Date inconnue'}
                                                                </span>
                                                                <button 
                                                                    onClick={(e) => {
                                                                        e.stopPropagation();
                                                                        deleteNote(note.id);
                                                                    }}
                                                                    className="text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-100"
                                                                    title="Supprimer la note"
                                                                >
                                                                    <Trash2 className="w-4 h-4" />
                                                                </button>
                                                            </div>
                                                            <p className="text-gray-700 whitespace-pre-wrap">{note.content || 'Note vide - cliquez pour √©diter'}</p>
                                                        </div>
                                                    )}
                                                </div>
                                            ))
                                        ) : (
                                            <p className="text-gray-500 text-center py-4">Aucune note pour le moment. Cliquez sur "√âcrire" pour commencer.</p>
                                        )}
                                        
                                        <div className="flex justify-center pt-2">
                                            <button 
                                                onClick={addNote}
                                                className="flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200"
                                            >
                                                <BookOpen className="w-4 h-4" />
                                                <span>√âcrire</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div className="flex justify-center space-x-4 pt-4 border-t">
                                    {selectedMode === 'solo' ? (
                                        <>
                                            <button 
                                                onClick={inviteOtherUser}
                                                className="flex items-center space-x-2 px-4 py-2 bg-blue-200 hover:bg-blue-300 text-blue-800 rounded-lg"
                                            >
                                                <ArrowUpRight className="w-4 h-4" />
                                                <span>Ping-pong</span>
                                            </button>
                                            <button 
                                                onClick={closeSession}
                                                className="flex items-center space-x-2 px-4 py-2 bg-red-200 hover:bg-red-300 text-red-800 rounded-lg"
                                            >
                                                <Lock className="w-4 h-4" />
                                                <span>Clore l'√©change</span>
                                            </button>
                                        </>
                                    ) : (
                                        <>
                                            <button 
                                                onClick={pauseSession}
                                                className="flex items-center space-x-2 px-4 py-2 bg-orange-200 hover:bg-orange-300 text-orange-800 rounded-lg"
                                            >
                                                <Pause className="w-4 h-4" />
                                                <span>Pause</span>
                                            </button>
                                            <button 
                                                onClick={closeSession}
                                                className="flex items-center space-x-2 px-4 py-2 bg-red-200 hover:bg-red-300 text-red-800 rounded-lg"
                                            >
                                                <Lock className="w-4 h-4" />
                                                <span>Terminer</span>
                                            </button>
                                        </>
                                    )}
                                </div>
                            </div>
                        )}

                        {currentPage === 4 && (
                            <div className="space-y-6">
                                <div className="flex justify-between items-center">
                                    <h3 className="text-lg font-semibold text-blue-900 flex items-center space-x-2">
                                        <Cloud className="w-6 h-6" />
                                        <span>Souvenirs Mastodon</span>
                                    </h3>
                                    <button
                                        onClick={getRandomPost}
                                        className="flex items-center space-x-2 px-4 py-2 bg-blue-200 hover:bg-blue-300 text-blue-800 rounded-lg"
                                    >
                                        <RefreshCw className="w-4 h-4" />
                                        <span>Autre post</span>
                                    </button>
                                </div>

                                {currentMastodonPost && (
                                    <div className="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200">
                                        <div className="mb-4">
                                            <div 
                                                className="bg-white p-4 rounded-lg border border-blue-200 shadow-sm select-text mb-4"
                                                style={{ userSelect: 'text' }}
                                            >
                                                <p className="text-gray-800 leading-relaxed text-base whitespace-pre-line">
                                                    {currentMastodonPost.text}
                                                </p>
                                            </div>
                                            
                                            <div className="text-center">
                                                <p className="text-sm text-blue-600 mb-2">
                                                    üí° Vous pouvez s√©lectionner et copier le texte ci-dessus
                                                </p>
                                                <a 
                                                    href="https://mastodon.in.th/@mekongtandem"
                                                    target="_blank"
                                                    rel="noopener noreferrer"
                                                    className="text-sm text-blue-500 hover:text-blue-700 underline"
                                                >
                                                    Voir le compte Mastodon complet (275 posts)
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                {!currentMastodonPost && (
                                    <div className="text-center py-8">
                                        <p className="text-gray-500 mb-4">Cliquez sur "Autre post" pour d√©couvrir un souvenir</p>
                                        <button
                                            onClick={getRandomPost}
                                            className="px-6 py-3 bg-blue-200 hover:bg-blue-300 text-blue-900 rounded-lg font-medium"
                                        >
                                            D√©couvrir un souvenir
                                        </button>
                                    </div>
                                )}
                            </div>
                        )}
                    </div>

                    <div className="text-center mt-6 text-amber-700 text-sm">
                        <p>üêò Un voyage, deux m√©moires, mille souvenirs üêò</p>
                        <p className="text-xs mt-1 opacity-75">‚úÖ Version GitHub Pages d√©ploy√©e ‚Ä¢ üì± Multi-appareils</p>
                    </div>
                </div>
            </div>
        );
    };

    // Rendu de l'application
    ReactDOM.render(React.createElement(MemoireMekong), document.getElementById('root'));
</script>
```

</body>
</html>
