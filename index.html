<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêò M√©moire du M√©kong</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const MemoireMekong = () => {
            const [currentPage, setCurrentPage] = React.useState(1);
            const [selectedMode, setSelectedMode] = React.useState('');
            const [selectedUser, setSelectedUser] = React.useState('');
            const [sessions, setSessions] = React.useState([]);
            const [showFullPage, setShowFullPage] = React.useState(false);

            const handleModeSelection = (mode) => {
                setSelectedMode(mode);
                if (mode === 'duo') {
                    setSelectedUser('Duo');
                    setShowFullPage(true);
                }
            };

            const handleUserSelection = (user) => {
                setSelectedUser(user);
                setShowFullPage(true);
            };

            const resetOnboarding = () => {
                setSelectedMode('');
                setSelectedUser('');
                setShowFullPage(false);
                setCurrentPage(1);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-4">
                    <div className="max-w-4xl mx-auto">
                        
                        <div className="text-center mb-6">
                            <div className="flex justify-center items-center space-x-4 mb-2">
                                <button
                                    onClick={resetOnboarding}
                                    className="text-amber-600 hover:text-amber-800 p-2 rounded-full hover:bg-amber-100 transition-colors flex flex-col items-center"
                                >
                                    <span className="text-2xl">üêò</span>
                                    <span className="text-xs text-amber-700 font-medium">
                                        {!showFullPage ? 'Choisir' : 
                                         selectedMode === 'duo' ? 'Duo' : 
                                         selectedUser || 'Solo'}
                                    </span>
                                </button>
                                <h1 className="text-4xl font-bold text-amber-900">M√©moire du M√©kong</h1>
                                <button className="text-blue-600 hover:text-blue-800 p-2 rounded-full hover:bg-blue-100 transition-colors flex flex-col items-center">
                                    <span className="text-2xl">‚òÅÔ∏è</span>
                                    <span className="text-xs text-blue-700 font-medium">Souvenirs</span>
                                </button>
                            </div>
                            
                            <div className="mb-2 flex space-x-2 justify-center">
                                <button
                                    onClick={() => {
                                        localStorage.removeItem('mekong-sessions');
                                        setSessions([]);
                                        resetOnboarding();
                                        alert('Donn√©es effac√©es !');
                                    }}
                                    className="px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs font-bold"
                                >
                                    üö® RESET
                                </button>
                                <span className="px-3 py-1 bg-green-500 text-white rounded text-xs font-bold">
                                    ‚úÖ Version 2.1 - SIMPLE - GitHub Pages
                                </span>
                            </div>
                            
                            <p className="text-lg text-amber-700 font-medium">Accueil & Sessions</p>
                        </div>

                        <div className="bg-white/80 backdrop-blur rounded-xl shadow-lg p-6">
                            
                            {currentPage === 1 && !showFullPage && (
                                <div className="space-y-8">
                                    
                                    {!selectedMode && (
                                        <div className="max-w-md mx-auto space-y-3">
                                            <h3 className="text-lg font-semibold text-amber-900 text-center">Choisissez votre mode de session</h3>
                                            <div className="space-y-3">
                                                <button
                                                    onClick={() => handleModeSelection('duo')}
                                                    className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                                >
                                                    <span className="text-2xl">üë•</span>
                                                    <div>
                                                        <span className="font-medium text-lg">Duo</span>
                                                        <p className="text-sm text-gray-600">Session intensive √† deux (pr√©sentiel)</p>
                                                    </div>
                                                </button>
                                                <button
                                                    onClick={() => handleModeSelection('solo')}
                                                    className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                                >
                                                    <span className="text-2xl">üë§</span>
                                                    <div>
                                                        <span className="font-medium text-lg">Solo</span>
                                                        <p className="text-sm text-gray-600">Lancer un ping-pong (asynchrone)</p>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    )}

                                    {selectedMode === 'solo' && !showFullPage && (
                                        <div className="max-w-md mx-auto space-y-6 bg-yellow-100 p-6 border-4 border-red-500 rounded-lg">
                                            <h3 className="text-xl font-bold text-center text-red-800">QUI √äTES-VOUS ?</h3>
                                            
                                            <button 
                                                onClick={() => handleUserSelection('Tom')}
                                                className="w-full p-6 bg-blue-500 text-white text-xl font-bold border-4 border-blue-700 rounded-lg hover:bg-blue-600"
                                            >
                                                üêò TOM L'√âL√âPHANTEAU
                                            </button>
                                            
                                            <button 
                                                onClick={() => handleUserSelection('Lambert')}
                                                className="w-full p-6 bg-green-500 text-white text-xl font-bold border-4 border-green-700 rounded-lg hover:bg-green-600"
                                            >
                                                üêò LAMBERT LE VIEIL √âL√âPHANT
                                            </button>
                                            
                                            <div className="text-center text-lg font-bold bg-red-200 p-4 rounded">
                                                DEBUG: Mode={selectedMode}, ShowFull={String(showFullPage)}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}

                            {currentPage === 1 && showFullPage && (
                                <div className="space-y-6">
                                    <div className="space-y-3">
                                        <h3 className="text-lg font-semibold text-amber-900">Sessions pr√©c√©dentes</h3>
                                        <div className="text-center py-8">
                                            <p className="text-gray-500 mb-4">Interface simplifi√©e pour test</p>
                                            <p className="text-green-600 font-bold">‚úÖ S√©lection utilisateur fonctionne !</p>
                                            <p className="text-blue-600 mt-2">Utilisateur s√©lectionn√© : {selectedUser}</p>
                                            <p className="text-purple-600">Mode s√©lectionn√© : {selectedMode}</p>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>

                        <div className="text-center mt-6 text-amber-700 text-sm">
                            <p>üêò Un voyage, deux m√©moires, mille souvenirs üêò</p>
                            <p className="text-xs mt-1 opacity-75">‚úÖ Version test simplifi√©e ‚Ä¢ üì± Multi-appareils</p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<MemoireMekong />, document.getElementById('root'));
    </script>
</body>
</html>
