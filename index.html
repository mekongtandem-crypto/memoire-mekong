<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêò M√©moire du M√©kong</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const MemoireMekong = () => {
            const [currentPage, setCurrentPage] = useState(1);
            const [selectedMode, setSelectedMode] = useState('');
            const [selectedUser, setSelectedUser] = useState('');
            const [showUserSelection, setShowUserSelection] = useState(false);
            const [showFullPage, setShowFullPage] = useState(false);

            const handleModeSelection = (mode) => {
                setSelectedMode(mode);
                if (mode === 'duo') {
                    setSelectedUser('Duo');
                    setShowFullPage(true);
                } else {
                    setShowUserSelection(true);
                }
            };

            const handleUserSelection = (user) => {
                setSelectedUser(user);
                setShowFullPage(true);
            };

            const resetOnboarding = () => {
                setSelectedMode('');
                setSelectedUser('');
                setShowUserSelection(false);
                setShowFullPage(false);
                setCurrentPage(1);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-4">
                    <div className="max-w-4xl mx-auto">
                        
                        <div className="text-center mb-6">
                            <h1 className="text-4xl font-bold text-amber-900 mb-2">üêò M√©moire du M√©kong</h1>
                            
                            <div className="mb-2 flex space-x-2 justify-center">
                                <button
                                    onClick={() => {
                                        resetOnboarding();
                                        alert('Reset effectu√© !');
                                    }}
                                    className="px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs font-bold"
                                >
                                    üö® RESET
                                </button>
                                <span className="px-3 py-1 bg-green-500 text-white rounded text-xs font-bold">
                                    ‚úÖ Version Propre
                                </span>
                            </div>

                            {showFullPage && (
                                <div className="flex justify-center mb-3 space-x-4">
                                    <div className="flex items-center space-x-2 text-amber-700 bg-amber-100 border border-amber-200 px-3 py-1 rounded-full shadow-sm">
                                        <span className="text-sm font-medium">Mode: {selectedMode === 'duo' ? 'Duo' : 'Solo'}</span>
                                    </div>
                                    <div className="flex items-center space-x-2 text-amber-700 bg-amber-100 border border-amber-200 px-3 py-1 rounded-full shadow-sm">
                                        <span className="text-lg">üêò</span>
                                        <span className="text-sm font-medium">{selectedUser}</span>
                                        <button 
                                            onClick={resetOnboarding}
                                            className="ml-2 text-amber-600 hover:text-amber-800 hover:bg-amber-200 rounded-full w-4 h-4 flex items-center justify-center text-xs"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                </div>
                            )}
                            
                            <p className="text-lg text-amber-700 font-medium">Page d'accueil</p>
                        </div>

                        <div className="bg-white/80 backdrop-blur rounded-xl shadow-lg p-6">
                            
                            {!showFullPage && !selectedMode && (
                                <div className="max-w-md mx-auto space-y-3">
                                    <h3 className="text-lg font-semibold text-amber-900 text-center">Choisissez votre mode de session</h3>
                                    <div className="space-y-3">
                                        <button
                                            onClick={() => handleModeSelection('duo')}
                                            className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                        >
                                            <span className="text-2xl">üë•</span>
                                            <div>
                                                <span className="font-medium text-lg">Duo</span>
                                                <p className="text-sm text-gray-600">Session intensive √† deux (pr√©sentiel)</p>
                                            </div>
                                        </button>
                                        <button
                                            onClick={() => handleModeSelection('solo')}
                                            className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                        >
                                            <span className="text-2xl">üë§</span>
                                            <div>
                                                <span className="font-medium text-lg">Solo</span>
                                                <p className="text-sm text-gray-600">Lancer un ping-pong (asynchrone)</p>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                            )}

                            {selectedMode === 'solo' && showUserSelection && !showFullPage && (
                                <div className="max-w-md mx-auto space-y-3">
                                    <h3 className="text-lg font-semibold text-amber-900 text-center">Qui √™tes-vous ?</h3>
                                    <div className="space-y-3">
                                        <button
                                            onClick={() => handleUserSelection('Tom')}
                                            className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                        >
                                            <span className="text-3xl">üêò</span>
                                            <span className="font-medium text-lg">Tom l'√©l√©phanteau</span>
                                        </button>
                                        <button
                                            onClick={() => handleUserSelection('Lambert')}
                                            className="flex items-center space-x-3 p-4 border-2 rounded-lg w-full text-left hover:bg-amber-50 hover:border-amber-300 transition-all"
                                        >
                                            <span className="text-3xl">üêò</span>
                                            <span className="font-medium text-lg">Lambert, le Vieil √©l√©phant</span>
                                        </button>
                                    </div>
                                </div>
                            )}

                            {showFullPage && (
                                <div className="text-center py-8">
                                    <div className="mb-6">
                                        <h3 className="text-xl font-semibold text-amber-900 mb-2">üéâ Configuration termin√©e !</h3>
                                        <p className="text-gray-600">
                                            Mode: <span className="font-medium">{selectedMode === 'duo' ? 'Duo' : 'Solo'}</span> ‚Ä¢ 
                                            Utilisateur: <span className="font-medium">{selectedUser}</span>
                                        </p>
                                    </div>
                                    
                                    <div className="space-y-4">
                                        <div className="bg-green-100 border border-green-200 rounded-lg p-4">
                                            <p className="text-green-800 font-medium">‚úÖ Bug de s√©lection utilisateur corrig√© !</p>
                                            <p className="text-green-700 text-sm mt-1">Les deux boutons Tom/Lambert s'affichent correctement.</p>
                                        </div>
                                        
                                        <div className="bg-blue-100 border border-blue-200 rounded-lg p-4">
                                            <p className="text-blue-800 font-medium">üöÄ Prochaine √©tape</p>
                                            <p className="text-blue-700 text-sm mt-1">Int√©gration des 275 posts Mastodon et connexion OneDrive</p>
                                        </div>
                                    </div>

                                    <button
                                        onClick={resetOnboarding}
                                        className="mt-6 px-6 py-3 bg-amber-200 hover:bg-amber-300 text-amber-900 rounded-lg font-medium"
                                    >
                                        üîÑ Tester √† nouveau
                                    </button>
                                </div>
                            )}
                        </div>

                        <div className="text-center mt-6 text-amber-700 text-sm">
                            <p>üêò Un voyage, deux m√©moires, mille souvenirs üêò</p>
                            <p className="text-xs mt-1 opacity-75">‚úÖ Version simple et propre ‚Ä¢ üêõ Bug corrig√©</p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(React.createElement(MemoireMekong), document.getElementById('root'));
    </script>
</body>
</html>
